{"version":3,"sources":["actions/fetchCreateCartItem.js","listingComponents/Listing.js","listingComponents/Listings.js","customer/Cart.js","helpers.js","listingComponents/ListingsContainer.js","Navigation.js","listingComponents/SearchListingCard.js","customer/Home.js","actions/fetchCustomer.js","customer/LogIn.js","listingComponents/TrendingListingsContainer.js","customer/ViewCart.js","actions/deleteCartItem.js","actions/updateCartItemQuantity.js","actions/makePurchase.js","actions/fetchListings.js","listingComponents/InterestingListingsContainer.js","customer/Order.js","customer/OrdersContainer.js","App.js","reportWebVitals.js","reducers/logInReducer.js","reducers/listingsReducer.js","reducers/customerReducer.js","reducers/cartReducer.js","reducers/cartItemsReducer.js","reducers/trendingListingsReducer.js","reducers/ordersReducer.js","reducers/orderItemsReducer.js","reducers/interestingListingsReducer.js","reducers/rootReducer.js","index.js"],"names":["fetchCreateCartItem","cartId","quantity","price","title","description","image","dispatch","fetch","method","headers","body","JSON","stringify","then","resp","json","type","cartItem","data","attributes","cartItemId","id","total","included","catch","e","window","alert","messages","Listing","props","history","useHistory","className","Card","style","width","height","margin","Img","variant","src","MainImage","url_170x135","alt","Body","Title","Text","Button","onClick","sessionStorage","getItem","push","addToCart","url_75x75","connect","state","cart","listings","products","map","product","listing_id","firstName","customer","first_name","cartItems","currency","Intl","NumberFormat","position","top","right","length","ListGroup","ListGroupItem","format","displayNumOfCartItems","to","reduce","t","displayCart","token","loading","useState","text","setText","filteredListings","filter","listing","includes","onChange","target","value","handleChange","name","logIn","padding","fontSize","clear","SearchListingCard","route","Home","CardDeck","j","setItem","errors","last_name","email","cart_items","orders","order_items","LogIn","password","setState","handleSubmit","preventDefault","fetchCustomer","register","redirectOnLogIn","loggedIn","firstNameInput","placeholder","onSubmit","this","match","url","PureComponent","password_digest","trendingListings","ViewCart","makePurchase","console","log","createOrderAndItems","emptyCart","items","item","deleteCartItem","horizontal","Item","updateCartItemQuantity","disabled","order","customerId","message","URL","KEY","process","interestingListings","Order","created_at","App","authenticate","fetchActiveListings","fetchTrendingListings","fetchInterestingListings","path","component","TrendingListingsContainer","InterestingListingsContainer","ListingsContainer","OrdersContainer","Component","r","fetchJsonp","results","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","logInReducer","action","listingsReducer","customerReducer","cartReducer","cartItemReducer","trendingListingsReducer","ordersReducer","orderItemsReducer","interestingListingsReducer","rootReducer","combineReducers","cartItemsReducer","orderItems","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"yQAAaA,EAAsB,SAACC,EAAQC,EAAUC,EAAOC,EAAOC,EAAaC,GAC7E,OAAO,SAAAC,GACHC,MAAM,sCAAD,OAAuCP,EAAvC,eAA4D,CAC7DQ,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBX,WACAC,QACAC,QACAC,cACAC,YAGPQ,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAE,GAAI,OAAIT,EAAS,CACnBU,KAAM,gBACNC,SAAUF,EAAKG,KAAKC,WACpBC,WAAYL,EAAKG,KAAKG,GACtBC,MAAOP,EAAKQ,SAAS,GAAGJ,WAAWG,WAEtCE,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEG,e,uBCWpBC,EA5BC,SAAAC,GAEd,IAAIC,EAAUC,cAUd,OACE,qBAAKC,UAAU,uBAAf,SACE,eAACC,EAAA,EAAD,CAAMC,MAAO,CAAEC,MAAO,QAASC,OAAQ,QAASC,OAAQ,QAAxD,UACE,cAACJ,EAAA,EAAKK,IAAN,CAAUC,QAAQ,MAAMC,IAAKX,EAAMY,UAAUC,YAAaC,IAAKd,EAAM3B,QACrE,eAAC+B,EAAA,EAAKW,KAAN,WACE,cAACX,EAAA,EAAKY,MAAN,UAAahB,EAAM3B,QACnB,eAAC+B,EAAA,EAAKa,KAAN,WACKjB,EAAM5B,MACP,cAAC8C,EAAA,EAAD,CAAQR,QAAQ,OAAOS,QAhBf,WAClB,IAAKC,eAAeC,QAAQ,SAE1B,OADAzB,OAAOC,MAAM,yCACNI,EAAQqB,KAAK,UAEtBtB,EAAMuB,UAAUvB,EAAM9B,OAAQ,EAAG8B,EAAM5B,MAAO4B,EAAM3B,MAAO2B,EAAM1B,YAAa0B,EAAMY,UAAUY,YAWvCnB,MAAO,CAACG,OAAQ,OAA7D,qCCJCiB,eANS,SAAAC,GACpB,MAAO,CACHxD,OAAQwD,EAAMC,KAAKpC,MAIa,CAAEtB,uBAA3BwD,EAhBE,SAAAzB,GAEb,IAAM4B,EAAW5B,EAAM6B,SAASC,KAAI,SAACC,GAAD,OAAc,cAAC,EAAD,2BAAuCA,GAAvC,IAAiDR,UAAWvB,EAAM/B,oBAAqBC,OAAQ8B,EAAM9B,SAAvF6D,EAAQC,eACxE,OACI,qBAAK7B,UAAU,MAAf,SACKyB,O,gBCqCEH,eARS,SAAAC,GACtB,MAAO,CACLO,UAAWP,EAAMQ,SAASC,WAC1BC,UAAWV,EAAMU,UACjB5C,MAAOkC,EAAMC,KAAKnC,SAIPiC,EAxCF,SAAAzB,GACT,IAAMqC,EAAW,IAAIC,KAAKC,aAAa,QAAS,CAC9ClC,MAAO,WACPgC,SAAU,QAmBZ,OACI,cAACjC,EAAA,EAAD,CAAMC,MAAO,CAAEC,MAAO,QAASkC,SAAU,QAASC,IAAK,IAAKC,MAAO,IAAKlC,OAAQ,QAAhF,SACE,eAACJ,EAAA,EAAKW,KAAN,WACE,eAACX,EAAA,EAAKY,MAAN,WAAahB,EAAMiC,UAAnB,sBAlBFjC,EAAMoC,UAAUO,OAEd,eAACC,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,oBAAsBR,EAASS,OAAO9C,EAAMR,UAC5C,eAACqD,EAAA,EAAD,kCAAoCE,EAAsB/C,EAAMoC,WAAhE,2BACA,cAACS,EAAA,EAAD,UAAe,cAAC,IAAD,CAASG,GAAG,QAAZ,4BAKnB,cAAC5C,EAAA,EAAKa,KAAN,mDCtBG8B,EAAwB,SAAAX,GACjC,OAAOA,EAAUa,QAAO,SAACC,EAAD,GAAoB,OAAOA,EAAR,EAAd/E,WAAqC,IAGzDgF,EAAc,WACvB,GAAI/B,eAAegC,MAAO,OAAO,cAAC,EAAD,KC6BtB3B,eAPS,SAAAC,GACtB,MAAO,CACLE,SAAUF,EAAME,SAChByB,QAAS3B,EAAM2B,WAIJ5B,EA9BW,SAAAzB,GAAU,IAAD,EAETsD,mBAAS,IAFA,mBAE1BC,EAF0B,KAEpBC,EAFoB,KASzBC,EAAmBzD,EAAM4B,SAAS8B,QAAO,SAAAC,GAAO,OAAIA,EAAQtF,MAAMuF,SAASL,MAGjF,OACE,gCACE,cAAC,IAAD,CAASP,GAAG,IAAZ,kBAA8B,uBAC9B,uBAAO9D,KAAK,OAAO2E,SAAU,SAAClE,GAAD,OAVZ,SAACA,GACpB6D,EAAQ7D,EAAEmE,OAAOC,OASqBC,CAAarE,IAAIsE,KAAK,SAE1D,cAAC,EAAD,CAAUpC,SAAU4B,IACnBN,U,QCWM1B,eANS,SAAAC,GACpB,MAAO,CACHwC,MAAOxC,EAAMwC,SAINzC,EA9BI,SAAAzB,GAOf,OAAIA,EAAMkE,MAEF,cAAC,IAAD,CAAQ/D,UAAU,sCAAsCE,MAAO,CAAC8D,QAAS,OAAQC,SAAU,OAA3F,SACI,cAAC,IAAD,CAASpB,GAAG,IAAI7B,QARb,WACXC,eAAeiD,QACfrE,EAAMxB,SAAS,CAACU,KAAM,aAMmBiB,UAAU,aAA3C,uBAKR,sBAAKA,UAAU,+BAA+BE,MAAO,CAAC8D,QAAS,OAAQC,SAAU,OAAjF,UACI,qBAAKjE,UAAU,aACf,qBAAKA,UAAU,WAAf,SAA0B,cAAC,IAAD,CAASA,UAAU,aAAa6C,GAAG,SAAnC,sBAC1B,qBAAK7C,UAAU,WAAf,SAA0B,cAAC,IAAD,CAASA,UAAU,aAAa6C,GAAG,YAAnC,wBAC1B,qBAAK7C,UAAU,mB,QCJZmE,EAhBW,SAAAtE,GAEtB,OACI,cAACI,EAAA,EAAD,CAAMD,UAAU,2BAAhB,SACE,eAACC,EAAA,EAAKW,KAAN,WACE,cAACX,EAAA,EAAKK,IAAN,CAAUE,IAAKX,EAAMzB,MAAOuC,IAAKd,EAAM3B,QACvC,cAAC+B,EAAA,EAAKY,MAAN,UAAahB,EAAM3B,QACnB,cAAC+B,EAAA,EAAKa,KAAN,IAGA,eAAC,IAAD,CAAS+B,GAAIhD,EAAMuE,MAAnB,oBAAmCvE,EAAM3B,eCOtCmG,EAfK,WAChB,OACI,gCACI,cAAC,EAAD,IAAc,uBAAS,uBACvB,8BAAMrB,MACN,eAACsB,EAAA,EAAD,WACI,cAAC,EAAD,CAAmBpG,MAAM,oBAAoBkG,MAAM,oBAAoBhG,MAAM,mGAC7E,cAAC,EAAD,CAAmBF,MAAM,uBAAuBkG,MAAM,uBAAuBhG,MAAM,mGACnF,cAAC,EAAD,CAAmBF,MAAM,kBAAkBkG,MAAM,YAAYhG,MAAM,iH,QC4C7E2F,EAAQ,SAACQ,EAAGlG,GAEd,GADK4C,eAAeC,QAAQ,UAAUD,eAAeuD,QAAQ,QAASD,EAAEtB,OACpEsB,EAAEE,OAAQ,OAAOhF,OAAOC,MAAM6E,EAAEE,QAFT,IAGnBV,EAAUQ,EAAVR,MACA3E,EAAOmF,EAAExC,SAAS9C,KAAlBG,GAJmB,EAKqDmF,EAAExC,SAAS9C,KAAKC,WAChGb,EAAS,CACLU,KAAM,SACNgD,SAAU,CAAE3C,KAAI4C,WARO,EAKnBA,WAGwB0C,UARL,EAKPA,UAGuBC,MARhB,EAKIA,OAI3BnD,KATuB,EAKWA,KAKlCoD,WAVuB,EAKiBA,WAMxCC,OAXuB,EAK6BA,OAOpDC,YAZuB,EAKqCA,YAQ5Df,WClEFgB,E,4MAEFxD,MAAQ,CACJoD,MAAO,GACPK,SAAU,GACVlD,UAAW,I,EAOf+B,aAAe,SAAArE,GACX,EAAKyF,SAAL,eACKzF,EAAEmE,OAAOG,KAAOtE,EAAEmE,OAAOC,S,EAIlCsB,aAAe,SAAA1F,GACXA,EAAE2F,iBACa,WAAf,EAAKf,MAAqB,EAAKvE,MAAMuF,cAAc,EAAK7D,MAAMoD,MAAO,EAAKpD,MAAMyD,UAAY,EAAKnF,MAAMwF,SAAS,EAAK9D,MAAMoD,MAAO,EAAKpD,MAAMyD,SAAU,EAAKzD,MAAMO,WAClK,EAAKmD,SAAS,CACVN,MAAO,GACPK,SAAU,GACVlD,UAAW,M,EAInBwD,gBAAkB,WACd,GAAI,EAAKzF,MAAM0F,SAAU,OAAO,cAAC,IAAD,CAAU1C,GAAG,MAE7C,IAAM2C,EAAgC,cAAf,EAAKpB,MAAwB,uBAAOV,SAAU,EAAKG,aAAc4B,YAAY,aAAa1G,KAAK,OAAO+E,KAAK,YAAYF,MAAO,EAAKrC,MAAMO,YAAgB,GAEhL,OACI,uBAAM9B,UAAU,cAAc0F,SAAU,EAAKR,aAA7C,UACKM,EAAe,uBAChB,uBAAO9B,SAAU,EAAKG,aAAc4B,YAAY,QAAQ1G,KAAK,OAAO+E,KAAK,QAAQF,MAAO,EAAKrC,MAAMoD,QAAS,uBAC5G,uBAAOjB,SAAU,EAAKG,aAAc4B,YAAY,WAAW1G,KAAK,WAAW+E,KAAK,WAAWF,MAAO,EAAKrC,MAAMyD,WAAY,uBACzH,uBAAOjG,KAAK,SAAS6E,MAAM,e,yCA9BvC,WACI,OAAO+B,KAAK9F,MAAM+F,MAAMC,M,oBAkC5B,WACI,OACIF,KAAKL,sB,GA7CGQ,iBAwDLxE,eANS,SAAAC,GACpB,MAAO,CACHgE,SAAUhE,EAAMwC,SAIgB,CAAEqB,cD3Db,SAACT,EAAOoB,GACjC,OAAO,SAAA1H,GACHC,MAAM,wCAAyC,CAC3CC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBgG,QACAoB,sBAGPnH,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAA2F,GAAC,OAAIR,EAAMQ,EAAGlG,MACnBkB,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEiF,aC6CsBY,SDzCjC,SAACV,EAAOoB,EAAiB/D,GAE7C,OAAO,SAAA3D,GACHC,MAAM,yCAA0C,CAC5CC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBgG,QACAoB,kBACA/D,iBAGPpD,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAE,GACF,GAAIA,EAAK2F,OAAQ,OAAOhF,OAAOC,MAAMZ,EAAK2F,QAC1CxD,eAAeuD,QAAQ,QAAS1F,EAAKmE,OACrC5E,EAAS,CACLU,KAAM,WACNgD,SAAS,aAAG3C,GAAIN,EAAKiD,SAAS9C,KAAKG,IAAON,EAAKiD,SAAS9C,KAAKC,YAC7DsC,KAAK,aAAGpC,GAAIN,EAAKiD,SAASzC,SAAS,GAAGF,IAAON,EAAKiD,SAASzC,SAAS,GAAGJ,YACvE6E,MAAOjF,EAAKiF,WAGnBxE,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEiF,cCgBpBnD,CAAsDyD,GCpCtDzD,eAPS,SAAAC,GACtB,MAAO,CACLyE,iBAAkBzE,EAAMyE,iBACxB9C,QAAS3B,EAAM2B,WAIqB,CAAEpF,uBAA3BwD,EAlBmB,SAAAzB,GAE9B,OACE,gCACE,cAAC,IAAD,CAASgD,GAAG,IAAZ,kBACA,cAAC,EAAD,CAAUnB,SAAU7B,EAAMmG,mBACzBhD,UCHHiD,E,4MAEFC,aAAe,WACXC,QAAQC,IAAI,KACZ,EAAKvG,MAAMwG,oBAAoB,EAAKxG,MAAMkC,SAAS3C,GAAI,EAAKS,MAAM2B,KAAM,EAAK3B,MAAMoC,WACnFkE,QAAQC,IAAI,KACZ,EAAKvG,MAAMyG,UAAU,EAAKzG,MAAM2B,KAAKpC,K,EAGzCmH,MAAQ,kBAAM,EAAK1G,MAAMoC,UAAUN,KAAI,SAAA6E,GAAI,OACvC,sBAAKxG,UAAU,oCAAoCE,MAAO,CAACG,OAAQ,QAAnE,UACI,4BAAImG,EAAKtI,QACT,qBAAKsC,IAAKgG,EAAKpI,MAAOuC,IAAK6F,EAAKtI,MAAO8B,UAAU,0BAA0BE,MAAO,CAACG,OAAQ,OAAQD,OAAO,OAAOD,MAAM,SAEvH,8BAAI,EAAK+B,SAASS,OAAO6D,EAAKvI,OAA9B,IAAsC,cAAC8C,EAAA,EAAD,CAAQC,QAAS,SAAAxB,GAAC,OAAI,EAAKK,MAAM4G,eAAe,EAAK5G,MAAM2B,KAAKpC,GAAIoH,EAAKpH,KAAKc,MAAO,CAACG,OAAQ,OAA9F,yBACtC,eAACoC,EAAA,EAAD,CAAWiE,YAAU,EAAC1G,UAAU,yBAAyBE,MAAO,CAACG,OAAQ,OAAzE,UACI,cAACoC,EAAA,EAAUkE,KAAX,wBAGA,cAAClE,EAAA,EAAUkE,KAAX,UACKH,EAAKxI,WAEV,cAACyE,EAAA,EAAUkE,KAAX,CAAgB3F,QAAS,kBAAM,EAAKnB,MAAM+G,uBAAuB,EAAK/G,MAAM2B,KAAKpC,GAAIoH,EAAKpH,KAAMoH,EAAKxI,WAArG,eAGA,cAACyE,EAAA,EAAUkE,KAAX,CAAgBE,SAAUL,EAAKxI,UAAY,EAAGgD,QAAS,kBAAM,EAAKnB,MAAM+G,uBAAuB,EAAK/G,MAAM2B,KAAKpC,GAAIoH,EAAKpH,KAAMoH,EAAKxI,WAAnI,uBAfyEwI,EAAKpH,Q,EAuB1F8C,SAAW,IAAIC,KAAKC,aAAa,QAAS,CACtClC,MAAO,WACPgC,SAAU,Q,4CAGd,WACI,OACI,gCACI,cAAC,IAAD,CAASW,GAAG,IAAZ,kBACA,qBAAK7C,UAAU,6BAAf,SACK2F,KAAKY,UAEV,sBAAKvG,UAAU,WAAWE,MAAO,CAACmC,SAAU,QAASC,IAAK,IAAKC,MAAO,IAAKyB,QAAS,QAApF,UACI,+BAAK2B,KAAK9F,MAAMkC,SAASC,WAAzB,aACA,wCAAW2D,KAAKzD,SAASS,OAAOgD,KAAK9F,MAAM2B,KAAKnC,OAAhD,IAAwD,cAAC0B,EAAA,EAAD,CAAQC,QAAS2E,KAAKO,aAAtB,mC,GA/CrDJ,iBA8DRxE,eARS,SAACC,GAAD,MAAY,CAChCU,UAAWV,EAAMU,UACjBT,KAAMD,EAAMC,KACZO,SAAUR,EAAMQ,SAChB+E,MAAOvF,EAAMuF,SAIuB,CACpCL,eCzE0B,SAAC1I,EAAQoB,GACnC,OAAO,SAAAd,GACHC,MAAM,sCAAD,OAAuCP,EAAvC,uBAA4DoB,GAAc,CAC3EZ,OAAQ,SACRC,QAAS,CACL,eAAgB,sBAGvBI,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAE,GAAI,OAAIT,EAAS,CAACU,KAAM,mBAAoBI,aAAaE,MAAOP,EAAKG,KAAKC,WAAWG,WAC1FE,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEG,eDgE/BiH,uBE1EkC,SAAC7I,EAAQoB,EAAYnB,GACvD,OAAO,SAAAK,GACHC,MAAM,sCAAD,OAAuCP,EAAvC,uBAA4DoB,GAAc,CAC3EZ,OAAQ,QACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBX,eAGPY,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAE,GAAI,OAAIT,EAAS,CACnBU,KAAM,4BACNC,SAAUF,EAAKG,KAAKC,WACpBC,aACAE,MAAOP,EAAKQ,SAAS,GAAGJ,WAAWG,WAEtCE,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEG,eFyD/B0G,oBG3E+B,SAACU,EAAYvF,EAAMS,GAElD,OADAkE,QAAQC,IAAI,KACL,SAAA/H,GACH8H,QAAQC,IAAI,KACZ9H,MAAM,0CAAD,OAA2CyI,EAA3C,WAAgE,CACjExI,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAL,2BAAoB6C,GAApB,IAA0BsD,YAAa7C,OAEhDrD,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAE,GACFqH,QAAQC,IAAI,KACZ/H,EAAS,CAACU,KAAM,yBAA0B+H,MAAOhI,EAAKG,KAAKC,WAAYE,GAAIN,EAAKG,KAAKG,QAExFG,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEwH,YAC3Bb,QAAQC,IAAI,OH2DhBE,UGtDqB,SAACvI,GACtB,OAAO,SAAAM,GACHC,MAAM,sCAAD,OAAuCP,GAAU,CAClDQ,OAAQ,QACRC,QAAS,CACL,eAAgB,sBAGvBI,KAAKP,EAAS,CAACU,KAAM,gBACrBQ,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEwH,eHyCpB1F,CAKX2E,G,iBI1EEgB,EAAM,uCACNC,EAAMC,2BCoBG7F,eAPS,SAAAC,GACtB,MAAO,CACLE,SAAUF,EAAM6F,oBAChBlE,QAAS3B,EAAM2B,WAIJ5B,EAlBsB,SAAAzB,GAEjC,OACE,gCACE,cAAC,IAAD,CAASgD,GAAG,IAAZ,kBACA,cAAC,EAAD,CAAUnB,SAAU7B,EAAM4B,WACzBuB,UCEMqE,EAXD,SAAAxH,GACV,OACI,cAACI,EAAA,EAAD,CAAMC,MAAO,CAAEC,MAAO,SAAtB,SACI,eAACF,EAAA,EAAKa,KAAN,WACKjB,EAAMyH,WAAW,uBACjBzH,EAAMR,YCaRiC,eAJS,SAACC,GAAD,MAAY,CAChCsD,OAAQtD,EAAMsD,UAGHvD,EAjBS,SAAAzB,GAEpB,IAAMgF,EAAShF,EAAMgF,OAAOlD,KAAI,SAAAmF,GAAK,OAAI,cAAC,EAAD,eAA0BA,GAAdA,EAAM1H,OAE3D,OACI,qBAAKY,UAAU,6BAAf,SACI,qBAAKA,UAAU,uBAAf,SACK6E,SCKX0C,E,uKAEJ,WACMtG,eAAeC,QAAQ,UAAUyE,KAAK9F,MAAM2H,gBAC/C7B,KAAK9F,MAAM4B,SAASe,QAAUmD,KAAK9F,MAAM4H,uBACzC9B,KAAK9F,MAAMmG,iBAAiBxD,QAAUmD,KAAK9F,MAAM6H,yBACjD/B,KAAK9F,MAAMuH,oBAAoB5E,QAAUmD,KAAK9F,MAAM8H,6B,oBAGvD,WAEE,OACE,gCACE,oBAAI3H,UAAU,8BAAd,uBACA,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO4H,KAAK,oBAAoBC,UAAWC,IAC3C,cAAC,IAAD,CAAOF,KAAK,uBAAuBC,UAAWE,IAC9C,cAAC,IAAD,CAAOH,KAAK,YAAYC,UAAWG,IACnC,cAAC,IAAD,CAAOJ,KAAK,QAAQC,UAAW5B,IAC/B,cAAC,IAAD,CAAO2B,KAAK,SAASC,UAAW9C,IAChC,cAAC,IAAD,CAAO6C,KAAK,YAAYC,UAAW9C,IACnC,cAAC,IAAD,CAAO6C,KAAK,kBAAkBC,UAAWI,IACzC,cAAC,IAAD,CAAOL,KAAK,IAAIC,UAAWxD,gB,GAvBrB6D,aAuCH5G,eARS,SAAAC,GACtB,MAAO,CACLE,SAAUF,EAAME,SAChBuE,iBAAkBzE,EAAMyE,iBACxBoB,oBAAqB7F,EAAM6F,uBAIS,CACtCI,aXP0B,WACxB,OAAO,SAAAnJ,GACHC,MAAM,sDAAuD,CAAEE,QAAQ,eAAMyC,kBAC5ErC,MAAK,SAAAuJ,GAAC,OAAIA,EAAErJ,UACZF,MAAK,SAAA2F,GAAC,OAAIR,EAAMQ,EAAGlG,MACnBkB,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,QWG/BiI,oBJnDiC,WAC/B,OAAO,SAAApJ,GACHA,EAAS,CAACU,KAAM,qBAChBqJ,IAAW,GAAD,OAAInB,EAAJ,iDAAgDC,IACzDtI,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAA6C,GAAQ,OAAIpD,EAAS,CAACU,KAAM,eAAgB0C,SAAUA,EAAS4G,aACpE9I,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEwH,cI8CjCU,sBJ1CmC,WACjC,OAAO,SAAArJ,GACHA,EAAS,CAACU,KAAM,8BAChBqJ,IAAW,GAAD,OAAInB,EAAJ,mDAAkDC,IAC3DtI,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAA6C,GAAQ,OAAIpD,EAAS,CAACU,KAAM,wBAAyB0C,SAAUA,EAAS4G,aAC7E9I,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEwH,cIqCjCW,yBJjCsC,WACpC,OAAO,SAAAtJ,GACHA,EAAS,CAACU,KAAM,iCAChBqJ,IAAW,GAAD,OAAInB,EAAJ,sDAAqDC,IAC9DtI,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAA6C,GAAQ,OAAIpD,EAAS,CAACU,KAAM,2BAA4B0C,SAAUA,EAAS4G,aAChF9I,OAAM,SAAAC,GAAC,OAAIC,OAAOC,MAAMF,EAAEwH,eIuBpB1F,CAKZiG,GChDYe,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5J,MAAK,YAAkD,IAA/C6J,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,wBCSCO,EAhBM,WAA4B,IAA3BvH,EAA0B,wDAAXwH,EAAW,uCAC5C,OAAQA,EAAOhK,MACX,IAAK,SACD,OAAOgK,EAAOhF,MAElB,IAAK,UACD,OAAO,EAEX,IAAK,WACD,OAAOgF,EAAOhF,MAElB,QACI,OAAOxC,I,OCEFyH,GAdO,WAA0B,IAAzBzH,EAAwB,uDAAhB,GAAKwH,EAAW,uCAC7C,OAAOA,EAAOhK,MACZ,IAAK,mBACH,OAAO,YAAIwC,GAEb,IAAK,eACH,IAAME,EAAWsH,EAAOtH,SAAS8B,QAAO,SAAAC,GAAO,MAAsB,WAAlBA,EAAQjC,SAC3D,MAAM,GAAN,mBAAWA,GAAX,YAAqBE,IAEvB,QACE,OAAOF,ICMA0H,GAhBS,WAAyB,IAAxB1H,EAAuB,uDAAf,GAAIwH,EAAW,uCAC5C,OAAQA,EAAOhK,MACX,IAAK,SACD,OAAO,2BAAKwC,GAAUwH,EAAOhH,UAEjC,IAAK,UACD,MAAO,GAEX,IAAK,WACD,OAAOgH,EAAOhH,SAElB,QACI,OAAOR,IC4BJ2H,GAxCK,WAAyB,IAAxB3H,EAAuB,uDAAf,GAAIwH,EAAW,uCACxC,OAAQA,EAAOhK,MACX,IAAK,SACD,OAAO,2BAAKwC,GAAUwH,EAAOvH,MAEjC,IAAK,UACD,MAAO,GAEX,IAAK,gBAML,IAAK,mBAML,IAAK,4BACD,OAAO,2BACAD,GADP,IAEIlC,MAAO0J,EAAO1J,QAGtB,IAAK,aACD,OAAO,2BACAkC,GADP,IAEIlC,MAAO,IAGf,IAAK,WACD,OAAO0J,EAAOvH,KAElB,QACI,OAAOD,ICRJ4H,GA5BS,WAAyB,IAAxB5H,EAAuB,uDAAf,GAAIwH,EAAW,uCAC5C,OAAQA,EAAOhK,MACX,IAAK,SACD,MAAM,GAAN,mBAAWwC,GAAX,YAAqBwH,EAAOnE,aAEhC,IAAK,UACD,MAAO,GAEX,IAAK,gBAED,OADAmE,EAAO/J,SAASI,GAAK2J,EAAO5J,WACtB,GAAN,mBAAWoC,GAAX,CAAkBwH,EAAO/J,WAE7B,IAAK,mBACD,IAAMiD,EAAYV,EAAMgC,QAAO,SAAAiD,GAAI,OAAIA,EAAKpH,KAAO2J,EAAO5J,cAC1D,OAAO8C,EAEX,IAAK,4BAED,OADA8G,EAAO/J,SAASI,GAAK2J,EAAO5J,WACtB,GAAN,mBAAWoC,EAAMgC,QAAO,SAAAiD,GAAI,OAAIA,EAAKpH,KAAO2J,EAAO5J,eAAnD,CAAgE4J,EAAO/J,WAE3E,IAAK,aACD,MAAO,GAEX,QACI,OAAOuC,ICVJ6H,GAdiB,WAA0B,IAAzB7H,EAAwB,uDAAhB,GAAKwH,EAAW,uCACrD,OAAOA,EAAOhK,MACZ,IAAK,4BACH,OAAO,YAAIwC,GAEb,IAAK,wBACH,IAAMyE,EAAmB+C,EAAOtH,SAAS8B,QAAO,SAAAC,GAAO,MAAsB,WAAlBA,EAAQjC,SACnE,MAAM,GAAN,mBAAWA,GAAX,YAAqByE,IAEvB,QACE,OAAOzE,ICOA8H,GAjBO,WAAyB,IAAxB9H,EAAuB,uDAAf,GAAIwH,EAAW,uCAC1C,OAAQA,EAAOhK,MACX,IAAK,SACD,MAAM,GAAN,mBAAWwC,GAAX,YAAqBwH,EAAOlE,SAEhC,IAAK,UACD,MAAO,GAEX,IAAK,yBAED,OADAkE,EAAOjC,MAAM1H,GAAK2J,EAAO3J,GACnB,GAAN,mBAAWmC,GAAX,CAAkBwH,EAAOjC,QAE7B,QACI,OAAOvF,ICGJ+H,GAhBW,WAAyB,IAAxB/H,EAAuB,uDAAf,GAAIwH,EAAW,uCAC9C,OAAQA,EAAOhK,MACX,IAAK,SACD,MAAM,GAAN,mBAAWwC,GAAX,YAAqBwH,EAAOjE,cAEhC,IAAK,UACD,MAAO,GAEX,IAAK,yBACD,MAAM,GAAN,mBAAWvD,GAAX,YAAqBwH,EAAOjC,MAAMhC,cAEtC,QACI,OAAOvD,ICEJgI,GAdoB,WAA0B,IAAzBhI,EAAwB,uDAAhB,GAAKwH,EAAW,uCACxD,OAAOA,EAAOhK,MACZ,IAAK,+BACH,OAAO,YAAIwC,GAEb,IAAK,2BACH,IAAM6F,EAAsB2B,EAAOtH,SAAS8B,QAAO,SAAAC,GAAO,MAAsB,WAAlBA,EAAQjC,SACtE,MAAM,GAAN,mBAAWA,GAAX,YAAqB6F,IAEvB,QACE,OAAO7F,ICaAiI,GAZKC,0BAAgB,CAChC1F,MAAO+E,EACP/G,SAAUkH,GACVzH,KAAM0H,GACNjH,UAAWyH,GACX7E,OAAQwE,GACRM,WAAYL,GACZ7H,SAAUuH,GACVhD,iBAAkBoD,GAClBhC,oBAAqBmC,KCRnBK,I,MAAQC,sBAAYL,GAAaM,8BAAoBC,0BAAgBC,QAE3EC,IAASC,OACP,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACE,cAAC,EAAD,MAEFO,SAASC,eAAe,SAM1B9B,M","file":"static/js/main.cdd55a83.chunk.js","sourcesContent":["export const fetchCreateCartItem = (cartId, quantity, price, title, description, image) => {\r\n    return dispatch => {\r\n        fetch(`http://localhost:3001/api/v1/carts/${cartId}/cart_items`, {\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                quantity,\r\n                price,\r\n                title, \r\n                description,\r\n                image\r\n            })\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(json => dispatch({\r\n            type: 'ADD_CART_ITEM', \r\n            cartItem: json.data.attributes, \r\n            cartItemId: json.data.id, \r\n            total: json.included[0].attributes.total\r\n        }))\r\n        .catch(e => window.alert(e.messages))\r\n    }\r\n}","import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Listing = props => {\r\n\r\n  let history = useHistory();\r\n\r\n  const handleClick = () => {\r\n    if (!sessionStorage.getItem('token')) {\r\n      window.alert('MUST BE LOGGED IN TO ADD ITEM TO CART')\r\n      return history.push('/login')\r\n    }\r\n    props.addToCart(props.cartId, 1, props.price, props.title, props.description, props.MainImage.url_75x75)\r\n  }\r\n\r\n  return (\r\n    <div className='col-sm-4 text-center'>\r\n      <Card style={{ width: '18rem', height: '30rem', margin: '20px' }}>\r\n        <Card.Img variant=\"top\" src={props.MainImage.url_170x135} alt={props.title} />\r\n        <Card.Body>\r\n          <Card.Title>{props.title}</Card.Title>\r\n          <Card.Text>\r\n              {props.price} \r\n              <Button variant=\"dark\" onClick={handleClick} style={{margin: '5px'}}>Add To Cart</Button>\r\n          </Card.Text>\r\n        </Card.Body>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Listing\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchCreateCartItem } from '../actions/fetchCreateCartItem';\r\nimport Listing from './Listing';\r\n\r\nconst Listings = props => {\r\n\r\n    const listings = props.products.map((product) => (<Listing key={product.listing_id} { ...product } addToCart={props.fetchCreateCartItem} cartId={props.cartId}/>))\r\n    return (\r\n        <div className='row'>\r\n            {listings}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        cartId: state.cart.id\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchCreateCartItem })(Listings)","import Card from 'react-bootstrap/Card';\r\nimport { NavLink } from 'react-router-dom';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport ListGroupItem from 'react-bootstrap/ListGroupItem';\r\nimport { displayNumOfCartItems } from '../helpers';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Cart = props => {\r\n    const currency = new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n    });\r\n\r\n    const text = () => {\r\n      if (props.cartItems.length) {\r\n        return (\r\n            <ListGroup>\r\n              <ListGroupItem>Total {currency.format(props.total)}</ListGroupItem>\r\n              <ListGroupItem>There are currently {displayNumOfCartItems(props.cartItems)} item(s) in your cart</ListGroupItem>\r\n              <ListGroupItem><NavLink to='/cart'>View Cart</NavLink></ListGroupItem>\r\n            </ListGroup>\r\n         )\r\n      } else { \r\n        return (\r\n          <Card.Text>Your cart is currently empty</Card.Text>\r\n        )\r\n      }\r\n    }\r\n\r\n    return (\r\n        <Card style={{ width: '18rem', position: 'fixed', top: '0', right: '0', margin: '20px' }}>\r\n          <Card.Body>\r\n            <Card.Title>{props.firstName}'s Shopping Cart</Card.Title>\r\n            {text()} \r\n          </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    firstName: state.customer.first_name,\r\n    cartItems: state.cartItems,\r\n    total: state.cart.total\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Cart)\r\n","import Cart from \"./customer/Cart\"\r\n\r\nexport const displayNumOfCartItems = cartItems => {\r\n    return cartItems.reduce((t, {quantity}) => {return t + quantity}, 0)\r\n}\r\n\r\nexport const displayCart = () => {\r\n    if (sessionStorage.token) return <Cart />\r\n}","import React, {useState} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Listings from './Listings';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { displayCart } from '../helpers';\r\n\r\nconst ListingsContainer = props => {\r\n\r\n  const [text, setText] = useState('');\r\n\r\n\r\n    const handleChange = (e) => {\r\n      setText(e.target.value);\r\n    }\r\n\r\n    const filteredListings = props.listings.filter(listing => listing.title.includes(text));\r\n\r\n\r\n    return (\r\n      <div>\r\n        <NavLink to='/'>Home</NavLink><br></br>\r\n        <input type='text' onChange={(e) => handleChange(e)} name='text'></input>\r\n        {/* <Listings products={props.listings}/> */}\r\n        <Listings products={filteredListings} />\r\n        {displayCart()}\r\n      </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    listings: state.listings,\r\n    loading: state.loading\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ListingsContainer);","import React from 'react';\r\nimport NavBar from 'react-bootstrap/NavBar';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navigation = props => {\r\n\r\n    const logOut = () => {\r\n        sessionStorage.clear();\r\n        props.dispatch({type: 'LOG_OUT'})\r\n    }\r\n\r\n    if (props.logIn) {\r\n        return (\r\n            <NavBar className='bg-secondary justify-content-center' style={{padding: '10px', fontSize: '2em'}} >\r\n                <NavLink to='/' onClick={logOut} className='text-light'>Log Out</NavLink>\r\n            </NavBar>\r\n        )\r\n    }\r\n    return (\r\n        <div className='row bg-secondary text-center' style={{padding: '10px', fontSize: '2em'}}> \r\n            <div className=\"col-sm-4\"></div>\r\n            <div className=\"col-sm-2\"><NavLink className='text-light' to='/login'>Log In</NavLink></div>\r\n            <div className=\"col-sm-2\"><NavLink className='text-light' to='/register'>Register</NavLink></div>\r\n            <div className=\"col-sm-4\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        logIn: state.logIn\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Navigation)\r\n\r\n\r\n","import Card from 'react-bootstrap/Card'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nconst SearchListingCard = props => {\r\n\r\n    return (\r\n        <Card className='bg-secondary text-center' >\r\n          <Card.Body>\r\n            <Card.Img src={props.image} alt={props.title} />\r\n            <Card.Title>{props.title}</Card.Title>\r\n            <Card.Text>\r\n                \r\n            </Card.Text>\r\n            <NavLink to={props.route} >Search {props.title}</NavLink>\r\n          </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default SearchListingCard;","import React from 'react';\r\nimport { displayCart } from '../helpers';\r\nimport Navigation from '../Navigation';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport SearchListingCard from '../listingComponents/SearchListingCard';\r\n\r\nexport const Home = () => {\r\n    return (\r\n        <div>\r\n            <Navigation /><br></br><br></br>\r\n            <div>{displayCart()}</div>\r\n            <CardDeck >\r\n                <SearchListingCard title='Trending Listings' route='/trendingListings' image=\"https://i.etsystatic.com/8789900/d/il/c0384b/646853390/il_170x135.646853390_1nbn.jpg?version=1\"/>\r\n                <SearchListingCard title='Interesting Listings' route='/interestingListings' image=\"https://i.etsystatic.com/6196192/d/il/91ad3e/818566630/il_170x135.818566630_fjaj.jpg?version=0\"/>\r\n                <SearchListingCard title='Active Listings' route='/listings' image=\"https://i.etsystatic.com/18538268/c/2250/1788/0/0/il/8f7a20/3052226842/il_170x135.3052226842_ggqf.jpg\"/>\r\n            </CardDeck>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Home;\r\n","\r\n\r\nexport const fetchCustomer = (email, password_digest) => {\r\n    return dispatch => {\r\n        fetch('http://localhost:3001/api/v1/sessions', {\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                email,\r\n                password_digest\r\n            })\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(j => logIn(j, dispatch)) // logIn this file line 53\r\n        .catch(e => window.alert(e.errors))\r\n    }\r\n}\r\n\r\nexport const register = (email, password_digest, first_name) => {\r\n\r\n    return dispatch => {\r\n        fetch('http://localhost:3001/api/v1/customers', {\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                email,\r\n                password_digest,\r\n                first_name\r\n            })\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(json => {\r\n            if (json.errors) return window.alert(json.errors)\r\n            sessionStorage.setItem('token', json.token)\r\n            dispatch({\r\n                type: 'REGISTER', \r\n                customer: { id: json.customer.data.id, ...json.customer.data.attributes }, \r\n                cart: { id: json.customer.included[0].id, ...json.customer.included[0].attributes },\r\n                logIn: json.logIn\r\n            })\r\n        })\r\n        .catch(e => window.alert(e.errors))\r\n    }\r\n}\r\n\r\nexport const authenticate = () => {\r\n    return dispatch => {\r\n        fetch('http://localhost:3001/api/v1/customers/authenticate', { headers: { ...sessionStorage } })\r\n        .then(r => r.json())\r\n        .then(j => logIn(j, dispatch)) // logIn this file line 53\r\n        .catch(e => window.alert(e))\r\n    }\r\n}\r\n\r\nconst logIn = (j, dispatch) => {\r\n    if (!sessionStorage.getItem('token')) sessionStorage.setItem('token', j.token);\r\n    if (j.errors) return window.alert(j.errors)\r\n    const { logIn } = j;\r\n    const { id } = j.customer.data\r\n    const { first_name, last_name, email, cart, cart_items, orders, order_items } = j.customer.data.attributes\r\n    dispatch({\r\n        type: 'LOG_IN',\r\n        customer: { id, first_name, last_name, email },\r\n        cart,\r\n        cart_items,\r\n        orders,\r\n        order_items,\r\n        logIn\r\n    })\r\n}","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchCustomer, register } from '../actions/fetchCustomer';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass LogIn extends PureComponent {\r\n\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        firstName: ''\r\n    }\r\n\r\n    get route() {\r\n        return this.props.match.url\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.route === '/login' ? this.props.fetchCustomer(this.state.email, this.state.password) : this.props.register(this.state.email, this.state.password, this.state.firstName);\r\n        this.setState({\r\n            email: '',\r\n            password: '',\r\n            firstName: ''\r\n        })\r\n    }\r\n\r\n    redirectOnLogIn = () => {\r\n        if (this.props.loggedIn) return <Redirect to='/'/>\r\n        \r\n        const firstNameInput = this.route === '/register' ? <input onChange={this.handleChange} placeholder='First Name' type='text' name='firstName' value={this.state.firstName} /> : ''\r\n        \r\n        return (\r\n            <form className='text-center' onSubmit={this.handleSubmit}>\r\n                {firstNameInput}<br></br> \r\n                <input onChange={this.handleChange} placeholder='Email' type='text' name='email' value={this.state.email} /><br></br> \r\n                <input onChange={this.handleChange} placeholder='Password' type='password' name='password' value={this.state.password} /><br></br>\r\n                <input type='submit' value='submit'/> \r\n            </form>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.redirectOnLogIn()\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedIn: state.logIn\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchCustomer, register })(LogIn)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchCreateCartItem } from '../actions/fetchCreateCartItem';\r\nimport Listings from './Listings';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { displayCart } from '../helpers';\r\n\r\nconst TrendingListingsContainer = props => {\r\n    \r\n    return (\r\n      <div>\r\n        <NavLink to='/'>Home</NavLink>\r\n        <Listings products={props.trendingListings} />\r\n        {displayCart()}\r\n      </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    trendingListings: state.trendingListings,\r\n    loading: state.loading,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchCreateCartItem })(TrendingListingsContainer);","import React, { PureComponent } from 'react';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport { connect } from 'react-redux';\r\nimport { deleteCartItem } from '../actions/deleteCartItem';\r\nimport { updateCartItemQuantity } from '../actions/updateCartItemQuantity';\r\nimport { createOrderAndItems, emptyCart } from '../actions/makePurchase';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nclass ViewCart extends PureComponent {\r\n\r\n    makePurchase = () => {\r\n        console.log('a')\r\n        this.props.createOrderAndItems(this.props.customer.id, this.props.cart, this.props.cartItems);\r\n        console.log('g')\r\n        this.props.emptyCart(this.props.cart.id)\r\n    }\r\n\r\n    items = () => this.props.cartItems.map(item => (\r\n        <div className='col-sm-4 text-center bg-secondary' style={{margin: '20px'}} key={item.id}>\r\n            <p>{item.title}</p>\r\n            <img src={item.image} alt={item.title} className='rounded mx-auto d-block' style={{margin: '5px'}} height='75px' width='75px' ></img>\r\n            {/* <p>{item.description}</p> */}\r\n            <p>{this.currency.format(item.price)} <Button onClick={e => this.props.deleteCartItem(this.props.cart.id, item.id)} style={{margin: '5px'}}>Remove Item</Button>\r\n            <ListGroup horizontal className='justify-content-center' style={{margin: '5px'}} >\r\n                <ListGroup.Item >\r\n                    Quantitiy\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                    {item.quantity}\r\n                </ListGroup.Item>\r\n                <ListGroup.Item onClick={() => this.props.updateCartItemQuantity(this.props.cart.id, item.id, ++item.quantity)}>\r\n                    +\r\n                </ListGroup.Item>\r\n                <ListGroup.Item disabled={item.quantity <= 1} onClick={() => this.props.updateCartItemQuantity(this.props.cart.id, item.id, --item.quantity)}>\r\n                    -\r\n                </ListGroup.Item>\r\n            </ListGroup>\r\n            </p>\r\n        </div>\r\n    ))\r\n\r\n    currency = new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: 'USD',\r\n    });\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NavLink to='/'>Home</NavLink>\r\n                <div className='row justify-content-center'>\r\n                    {this.items()}\r\n                </div>\r\n                <div className='bg-light' style={{position: 'fixed', top: '0', right: '0', padding: '10px'}}>\r\n                    <h1>{this.props.customer.first_name}'s Cart</h1>\r\n                    <h2>Total {this.currency.format(this.props.cart.total)} <Button onClick={this.makePurchase}>Purchase</Button></h2>\r\n                </div>                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cartItems: state.cartItems,\r\n    cart: state.cart,\r\n    customer: state.customer,\r\n    order: state.order\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { \r\n    deleteCartItem, \r\n    updateCartItemQuantity,\r\n    createOrderAndItems,\r\n    emptyCart\r\n })(ViewCart)\r\n","export const deleteCartItem = (cartId, cartItemId) => {\r\n    return dispatch => {\r\n        fetch(`http://localhost:3001/api/v1/carts/${cartId}/cart_items/${cartItemId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(json => dispatch({type: 'DELETE_CART_ITEM', cartItemId , total: json.data.attributes.total}))\r\n        .catch(e => window.alert(e.messages))\r\n    }\r\n}","export const updateCartItemQuantity = (cartId, cartItemId, quantity) => {\r\n    return dispatch => {\r\n        fetch(`http://localhost:3001/api/v1/carts/${cartId}/cart_items/${cartItemId}`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                quantity\r\n            })\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(json => dispatch({\r\n            type: 'UPDATE_CART_ITEM_QUANTITY', \r\n            cartItem: json.data.attributes, \r\n            cartItemId, \r\n            total: json.included[0].attributes.total\r\n        }))\r\n        .catch(e => window.alert(e.messages))\r\n    }\r\n}","export const createOrderAndItems = (customerId, cart, cartItems) => {\r\n    console.log('b')\r\n    return dispatch => {\r\n        console.log('c')\r\n        fetch(`http://localhost:3001/api/v1/customers/${customerId}/orders`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ ...cart, order_items: cartItems })\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(json => {\r\n            console.log('d') \r\n            dispatch({type: 'CREATE_ORDER_AND_ITEMS', order: json.data.attributes, id: json.data.id})\r\n        })\r\n        .catch(e => window.alert(e.message))\r\n        console.log('e')\r\n    }\r\n    console.log('f')\r\n}\r\n\r\nexport const emptyCart = (cartId) => {\r\n    return dispatch => {\r\n        fetch(`http://localhost:3001/api/v1/carts/${cartId}`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(dispatch({type: 'EMPTY_CART'}))\r\n        .catch(e => window.alert(e.message))\r\n    }\r\n}","\r\nimport fetchJsonp from 'fetch-jsonp';\r\n\r\nconst URL = 'https://openapi.etsy.com/v2/listings';\r\nconst KEY = process.env.REACT_APP_ETSY_API_KEY;\r\n\r\nexport const fetchActiveListings = () => {\r\n    return dispatch => {\r\n        dispatch({type: 'LOADING_LISTINGS'});\r\n        fetchJsonp(`${URL}/active.js?includes=MainImage&api_key=${KEY}`)\r\n        .then(resp => resp.json())\r\n        .then(listings => dispatch({type: 'ADD_LISTINGS', listings: listings.results}))\r\n        .catch(e => window.alert(e.message))\r\n    }\r\n}\r\n\r\nexport const fetchTrendingListings = () => {\r\n    return dispatch => {\r\n        dispatch({type: 'LOADING_TRENDING_LISTINGS'});\r\n        fetchJsonp(`${URL}/trending.js?includes=MainImage&api_key=${KEY}`)\r\n        .then(resp => resp.json())\r\n        .then(listings => dispatch({type: 'ADD_TRENDING_LISTINGS', listings: listings.results}))\r\n        .catch(e => window.alert(e.message))\r\n    }\r\n}\r\n\r\nexport const fetchInterestingListings = () => {\r\n    return dispatch => {\r\n        dispatch({type: 'LOADING_INTERESTING_LISTINGS'});\r\n        fetchJsonp(`${URL}/interesting.js?includes=MainImage&api_key=${KEY}`)\r\n        .then(resp => resp.json())\r\n        .then(listings => dispatch({type: 'ADD_INTERESTING_LISTINGS', listings: listings.results}))\r\n        .catch(e => window.alert(e.message))\r\n    }\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Listings from './Listings';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { displayCart } from '../helpers';\r\n\r\nconst InterestingListingsContainer = props => {\r\n    \r\n    return (\r\n      <div>\r\n        <NavLink to='/'>Home</NavLink>\r\n        <Listings products={props.listings}/>\r\n        {displayCart()}\r\n      </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    listings: state.interestingListings,\r\n    loading: state.loading\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(InterestingListingsContainer);","import React from 'react'\r\nimport Card from 'react-bootstrap/esm/Card';\r\n\r\nconst Order = props => {\r\n    return (\r\n        <Card style={{ width: '18rem' }}>\r\n            <Card.Text>\r\n                {props.created_at}<br></br>\r\n                {props.total}\r\n            </Card.Text>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Order;\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Order from './Order'\r\n\r\nconst OrdersContainer = props => {\r\n\r\n    const orders = props.orders.map(order => <Order key={order.id} {...order} />)\r\n\r\n    return (\r\n        <div className='row justify-content-center'>\r\n            <div className='col-sm-3 text-center' >\r\n                {orders}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    orders: state.orders\r\n})\r\n\r\nexport default connect(mapStateToProps)(OrdersContainer)\r\n","\n//import logo from './logo.svg';\nimport './App.css';\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport ListingsContainer from './listingComponents/ListingsContainer';\nimport Home from './customer/Home';\nimport LogIn from './customer/LogIn';\nimport TrendingListingsContainer from './listingComponents/TrendingListingsContainer';\nimport ViewCart from './customer/ViewCart';\nimport { authenticate } from './actions/fetchCustomer';\nimport { connect } from 'react-redux';\nimport { fetchTrendingListings, fetchActiveListings, fetchInterestingListings } from './actions/fetchListings';\nimport InterestingListingsContainer from './listingComponents/InterestingListingsContainer';\nimport OrdersContainer from './customer/OrdersContainer';\n\nclass App extends Component {\n\n  componentDidMount() {\n    if (sessionStorage.getItem('token')) this.props.authenticate();\n    !this.props.listings.length && this.props.fetchActiveListings();\n    !this.props.trendingListings.length && this.props.fetchTrendingListings();\n    !this.props.interestingListings.length && this.props.fetchInterestingListings();\n  }\n\n  render() {\n    \n    return (\n      <div> \n        <h1 className='jumbo text-center text-info'>Ecommerce</h1> \n        <Router>\n          <Switch>\n            <Route path='/trendingListings' component={TrendingListingsContainer} />\n            <Route path='/interestingListings' component={InterestingListingsContainer} />\n            <Route path='/listings' component={ListingsContainer}/>\n            <Route path='/cart' component={ViewCart}/>\n            <Route path='/login' component={LogIn}/>\n            <Route path='/register' component={LogIn}/>\n            <Route path='/orders/history' component={OrdersContainer}/>\n            <Route path='/' component={Home}/>\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    listings: state.listings,\n    trendingListings: state.trendingListings,\n    interestingListings: state.interestingListings\n  }\n}\n\nexport default connect(mapStateToProps, { \n  authenticate,\n  fetchActiveListings,\n  fetchTrendingListings,\n  fetchInterestingListings\n})(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const logInReducer = (state = false, action) => {\r\n    switch (action.type) {\r\n        case 'LOG_IN':\r\n            return action.logIn;\r\n\r\n        case 'LOG_OUT':\r\n            return false;\r\n\r\n        case 'REGISTER':\r\n            return action.logIn;\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default logInReducer;","const listingsReducer = (state = [] , action) => {\r\n    switch(action.type) {\r\n      case 'LOADING_LISTINGS':\r\n        return [...state]\r\n\r\n      case 'ADD_LISTINGS':\r\n        const listings = action.listings.filter(listing => listing.state === 'active');\r\n        return [...state, ...listings]\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  export default listingsReducer;","const customerReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case 'LOG_IN':\r\n            return { ...state, ...action.customer };\r\n\r\n        case 'LOG_OUT':\r\n            return {};\r\n\r\n        case 'REGISTER':\r\n            return action.customer\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default customerReducer;","const cartReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case 'LOG_IN':\r\n            return { ...state, ...action.cart };\r\n\r\n        case 'LOG_OUT':\r\n            return {};\r\n\r\n        case 'ADD_CART_ITEM':\r\n            return {\r\n                ...state,\r\n                total: action.total\r\n            }\r\n\r\n        case 'DELETE_CART_ITEM':\r\n            return {\r\n                ...state,\r\n                total: action.total\r\n            }\r\n\r\n        case 'UPDATE_CART_ITEM_QUANTITY':\r\n            return {\r\n                ...state,\r\n                total: action.total\r\n            }\r\n        \r\n        case 'EMPTY_CART':\r\n            return {\r\n                ...state,\r\n                total: 0\r\n            }\r\n\r\n        case 'REGISTER':\r\n            return action.cart\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default cartReducer;","const cartItemReducer = (state = [], action) => {\r\n    switch (action.type) {\r\n        case 'LOG_IN':\r\n            return [...state, ...action.cart_items]\r\n\r\n        case 'LOG_OUT':\r\n            return [];\r\n\r\n        case 'ADD_CART_ITEM':\r\n            action.cartItem.id = action.cartItemId;\r\n            return [...state, action.cartItem];\r\n\r\n        case 'DELETE_CART_ITEM':\r\n            const cartItems = state.filter(item => item.id !== action.cartItemId)\r\n            return cartItems;\r\n\r\n        case 'UPDATE_CART_ITEM_QUANTITY':\r\n            action.cartItem.id = action.cartItemId;\r\n            return [...state.filter(item => item.id !== action.cartItemId), action.cartItem]\r\n\r\n        case 'EMPTY_CART':\r\n            return []\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default cartItemReducer;","const trendingListingsReducer = (state = [] , action) => {\r\n    switch(action.type) {\r\n      case 'LOADING_TRENDING_LISTINGS':\r\n        return [...state]\r\n\r\n      case 'ADD_TRENDING_LISTINGS':\r\n        const trendingListings = action.listings.filter(listing => listing.state === 'active');\r\n        return [...state, ...trendingListings]\r\n        \r\n      default:\r\n        return state;\r\n    }\r\n}\r\n    \r\nexport default trendingListingsReducer;","const ordersReducer = (state = [], action) => {\r\n    switch (action.type) {\r\n        case 'LOG_IN':\r\n            return [...state, ...action.orders];\r\n\r\n        case 'LOG_OUT':\r\n            return []\r\n\r\n        case 'CREATE_ORDER_AND_ITEMS':\r\n            action.order.id = action.id\r\n            return [...state, action.order]\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default ordersReducer;","const orderItemsReducer = (state = [], action) => {\r\n    switch (action.type) {\r\n        case 'LOG_IN':\r\n            return [...state, ...action.order_items];\r\n\r\n        case 'LOG_OUT':\r\n            return []\r\n\r\n        case 'CREATE_ORDER_AND_ITEMS':\r\n            return [...state, ...action.order.order_items]\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default orderItemsReducer;","const interestingListingsReducer = (state = [] , action) => {\r\n    switch(action.type) {\r\n      case 'LOADING_INTERESTING_LISTINGS':\r\n        return [...state]\r\n\r\n      case 'ADD_INTERESTING_LISTINGS':\r\n        const interestingListings = action.listings.filter(listing => listing.state === 'active');\r\n        return [...state, ...interestingListings]\r\n        \r\n      default:\r\n        return state;\r\n    }\r\n}\r\n    \r\nexport default interestingListingsReducer;","import { combineReducers } from \"redux\";\r\nimport logInReducer from \"./logInReducer\";\r\nimport listingsReducer from './listingsReducer';\r\nimport customerReducer from \"./customerReducer\";\r\nimport cartReducer from \"./cartReducer\";\r\nimport cartItemsReducer from './cartItemsReducer';\r\nimport trendingListingsReducer from \"./trendingListingsReducer\";\r\nimport ordersReducer from \"./ordersReducer\";\r\nimport orderItemsReducer from \"./orderItemsReducer\";\r\nimport interestingListingsReducer from \"./interestingListingsReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    logIn: logInReducer,\r\n    customer: customerReducer,\r\n    cart: cartReducer,\r\n    cartItems: cartItemsReducer,\r\n    orders: ordersReducer,\r\n    orderItems: orderItemsReducer,\r\n    listings: listingsReducer,\r\n    trendingListings: trendingListingsReducer,\r\n    interestingListings: interestingListingsReducer\r\n})\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers/rootReducer';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}